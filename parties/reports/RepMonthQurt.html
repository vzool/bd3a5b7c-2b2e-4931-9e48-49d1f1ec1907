<!-- page content -->
<div class="right_col" role="main" >
    <script type="text/ng-template" id="myModalImg.html"> 
        <div class="modal-header">
        <h3 class="modal-title" dir="rtl">التقرير</h3>
        </div>
        <div class="modal-body">
        <img border="0"  src={{data}} width="100%" height="100%">
        <div class="modal-footer">
        <button class="btn btn-primary" type="button" ng-click="ok()">OK</button>
        <button class="btn btn-warning" type="button" ng-click="cancel()">Cancel</button>
        </div>
    </script>


    <div class="">
        <div class="page-title">
            <div class="title_left">
                <h3>
                    تقرير ربع سنوى 
                </h3>
            </div>



        </div>
    </div>
    <div class="col-md-12 col-sm-12 col-xs-12">
        <div class="item form-group ">
            <label class="control-label col-md-2 col-sm-3 col-xs-12" for="name">التاريخ <span class="required">*</span>
            </label>
            <div class="col-md-3 col-sm-3 col-xs-12">
                <select ng-model="selectedYear"  class="form-control col-md-12 col-xs-12">
                    <option ng-repeat="element in years"  value="{{element}}">{{element}}</option>

                </select>
            </div>
            <div class="col-md-3 col-sm-3 col-xs-12">
                <select ng-change="onSelectRange()" ng-model="selectedRange"  class="form-control col-md-12 col-xs-12">
                    <option ng-repeat="range in ranges"  value="{{range.value}}">{{range.name}}</option>

                </select>
            </div>
            <button class="col-md-2"  ng-click="getReport(selectedYear)">بحث</button>

            <button class="col-md-2"  ng-click="testExp()">Export</button>

        </div>

    </div>

    <div class="row">
        <div class="col-md-12 col-sm-12 col-xs-12">

            <div class="x_panel">

                <div class="x_content">
                    <table id="test" class="table table-striped responsive-utilities jambo_table" dir="rtl" border="1" >

                        <CAPTION><EM>تقرير أعمال الإدارة العامة لصحة البيئة خلال الفترة من {{mFromMonth}}  والى {{mToMonth}}  عام {{selectedYear}} هـ</EM></CAPTION>
                        <col>
                        <colgroup span="2"></colgroup>
                        <colgroup span="2"></colgroup>
                        <tr>
                            <td rowspan="2" >م</td>
                            <td rowspan="2" >الأسم</td>
                            <td colspan="2" scope="colgroup" >عدد الجولات</td>
                            <td rowspan="2" >مجموع الجولات</td>

                            <th colspan="2" rowspan="2">نوع الجولات</th>
                            <td rowspan="2" >عدد المخالفات</td>
                            <td rowspan="2" >عدد الغرامات</td>
                            <td rowspan="2" >قيمة الغرامات بالريال</td>
                            <td rowspan="2" >إنذار</td>
                            <td rowspan="2" >إغلاق</td>
                            <td rowspan="2" >إتلاف مستحضرات وسوائل باللتر</td>
                            <th rowspan="2">إتلاف مواد غذائية بالكيلو جرام</th>

                            <th rowspan="2">عينات مأخوذة</th>

                        </tr>
                        <tr>
                            <th rowspan="1" scope="col">ص</th>
                            <th rowspan="1" scope="col">م</th>



                        </tr>

                        <tr ng-repeat="element in empActions" ng-init="i = $index">
                            <th scope="row">{{i + 1}}</th>
                            <td>{{element.hijriMonth|arMonth}}</td>
                            <td>{{element.shiftCode?element.visitCount:'-'}}</td>
                            <td>{{element.shiftCode?'-':element.visitCount}}</td>
                            <td>{{element.visitCount}}</td>
                            <td>-</td>
                            <td>-</td>
                            <td>{{element.violationCount}}</td>
                            <td>{{element.violationCount}}</td>
                            <td>{{element.violationCost}}</td>
                            <td>{{element.alarmCount}}</td>
                            <td>{{element.closeCount}}</td>
                            <td>{{element.litreUnitCount}}</td>
                            <td>{{element.kiloUnitCount}}</td>
                            <td>-</td>


                        </tr>


                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
</div>


